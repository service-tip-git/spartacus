<div class="cx-order-items" *ngIf="order$ | async as order">
  <ng-container *ngIf="!showItemList || entries?.length > 0 || shippingHierarchyTrees?.length > 0">
    <h2 class="cx-review-header">
      {{ 'checkoutMode.deliveryEntries' | cxTranslate }}
    </h2>

    <div class="cx-review-summary cx-review-shipping-summary">
      <!-- DELIVERY ADDRESS SECTION -->
      <div class="cx-review-summary-card-container">
        <div class="cx-review-summary-card cx-review-card-address">
          <cx-card
            [content]="getDeliveryAddressCard(order.deliveryAddress) | async"
          ></cx-card>
        </div>
      </div>

      <!-- DELIVERY MODE SECTION -->
      <div class="cx-review-summary-card-container">
        <div class="cx-review-summary-card cx-review-card-address">
          <cx-card
            [content]="getDeliveryModeCard(order.deliveryMode) | async"
          ></cx-card>
        </div>
      </div>
    </div>

    <!-- CART ITEM SECTION -->
    <div *ngIf="showItemList" class="cx-review-cart-item">
      <ng-container *cxFeature="'enableBundles'">
        <div [ngClass]="entries?.length === 0 ? 'emptyList' : 'noneEmptyList'">
          <ng-template
            [cxAbstractOrderContext]="{
              id: order.code,
              type: abstractOrderType.ORDER,
            }"
            [cxOutlet]="cartOutlets.CART_ITEM_LIST"
            [cxOutletContext]="{
              items: entries,
              readonly: true,
            }"
          >
          </ng-template>
        </div>
        <ng-container *ngFor="let bundle of shippingHierarchyTrees">
          <cx-hierarchy
            [options]="{
              tree: bundle,
              template: bundlesTemplate,
              titleReadonly: true,
              collasibleReadonly: true,
            }"
          >
          </cx-hierarchy>
        </ng-container>
      </ng-container>
      <ng-container *cxFeature="'!enableBundles'">
        <ng-template
          [cxAbstractOrderContext]="{
            id: order.code,
            type: abstractOrderType.ORDER,
          }"
          [cxOutlet]="cartOutlets.CART_ITEM_LIST"
          [cxOutletContext]="{
            items: entries,
            readonly: true,
          }"
        >
        </ng-template>
      </ng-container>
    </div>
  </ng-container>
</div>

<ng-template #bundlesTemplate let-items>
  <ng-template
    [cxOutlet]="cartOutlets.CART_ITEM_LIST"
    [cxOutletContext]="{
      items: items,
      hasHeader: false,
      readonly: true,
    }"
  />
</ng-template>
